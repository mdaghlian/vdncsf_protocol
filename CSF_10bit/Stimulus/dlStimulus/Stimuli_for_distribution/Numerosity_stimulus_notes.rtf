{\rtf1\ansi\ansicpg1252\cocoartf1348\cocoasubrtf170
{\fonttbl\f0\fswiss\fcharset0 ArialMT;\f1\fnil\fcharset0 Tahoma;}
{\colortbl;\red255\green255\blue255;\red26\green26\blue26;}
\paperw11900\paperh16840\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\deftab720
\pard\pardeftab720

\f0\fs20 \cf2 \expnd0\expndtw0\kerning0
A few notes:\'a0
\f1\fs26 \cf0 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720

\f0\fs20 \cf0 \expnd0\expndtw0\kerning0
First, this relies on Psychtoolbox 3 for the mac. Add the unzipped folder to your matlab path, with psychtoolbox, and type 'ret' to launch the experiment. It is much easier to test everything if you have an second monitor so you can interact easily with your computer when something crashes.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\'a0
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
From the drop down menu at the top, you have a choice of experiments. The first few present wedge and ring stimuli for normal retinotopic mapping, and bar stimuli for pRF mapping. 
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\
When you choose an experiment, the parameters we use (TR, total scan time, prescan duration etc) appear as default. The script 'retMenu' allows you to change these defaults when you know how you want to scan.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\
If you collect responses during scanning, the program will return a performance measure and reaction time. We do this to ensure attention. In the scanner, this can use a serial port input from a button box in the subject's hand. For testing, it accepts responses from the keyboard.
\f1\fs26 \expnd0\expndtw0\kerning0
\
\'a0
\f0\fs20 \expnd0\expndtw0\kerning0
\
The functions that do all the work are:
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
'ret' - the top-level control function. Line 29 lets you choose between triggering the stimulus start from the keyboard (-1) or a serial port from the scanner (mapped to port 2 for a macbook pro, 3 for a G4 powerbook). We use an external USB serial port for the mac with our scanner, a Keyspan USB Serial Adapter. For a different adapter or a different scanner trigger box, you will probably need to modify \'91deviceUMC\'92.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
'retmenu' - presents a GUI to choose experiment and set parameters. Around line 311, you can set defaults for your experiment so you don\'92t have to put them into the menu GUI every time.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
'setRetinotopyParams' - does a bunch of different things to get everything ready to go.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720

\f1\fs26 \cf0 \expnd0\expndtw0\kerning0
\'a0\
\pard\pardeftab720

\f0\fs20 \cf0 \expnd0\expndtw0\kerning0
Also take a look at\'a0MRstim/trunk/Displays/7T_projector_UMC_1024x768/displayParams.m
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
You will need to make something like this for your display parameters. If you make a new folder in\'a0MRstim/trunk/Displays, this will allow you to choose your display configuration from the retmenu.\'a0
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
Things like visual angles depend closely on the settings in\'a0displayParams.m. These are easy enough to measure. numPixels is your display resolution. dimensions is the size of your display in the scanner, as [horizontal vertical] in centimeters. distance is the distance from the subjects eye, in centimeters. If only a limited part of your display is visible to the subject, make a Rect field with the boundary of the visible area in the order [left top right bottom]. Otherwise, delete the Rect field.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
If you have a normalized gamma table, put it in gamma.mat. That's in the format red-green-blue *1-255.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\'a0
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
You probably don't want to go messing about with anything else, most functions do low-level stuff that we don't really change.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\'a0
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
Please let me know if you have any problems.
\f1\fs26 \expnd0\expndtw0\kerning0
\

\f0\fs20 \expnd0\expndtw0\kerning0
\
Good luck,}